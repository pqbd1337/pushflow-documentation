---
title: Интеграция с Binom
---

## Сбор подписок
Есть два способа, как оповестить бином, что произошла пуш подписка. Первый это передать [postback конверсии Binom](https://docs.binom.org/postback-url.php) с ```{clickid}``` из бинома. Второй, передать [кастомное событие Binom](https://docs.binom.org/events.php) с информацией о том, что произошла подписка.


### Оповещение о подписке через postback конверсии
Этот метод хорош, если у вас кампания занята только сбором пуш подписок, тогда мы можем передать конверсию в бином через [postback конверсии Binom](https://docs.binom.org/postback-url.php)


#### Если вы используете интегрируемый в бином лендинг
Тогда используем встроенные токены бинома, чтобы передать данные при инициализации скрипта сбора пуш подписок. 
1. Скопируйте скрипт со страницы фида и вставьте на свой лендинг согласно инструкции.
1. В скрипте, найдите параметры инициализации скрипта и добавьте туда нужные вам токены. Это может выглядить так(Обратите внимание, что токены обернуты кавычками "" и в конце строки запятая):
    ```
    ...
    var pushflowSettings = {
        clickid: "{clickid}",
        t1: "{trafficsource}",
        t2: "{campaign}",
        t3: "{lander}",
        vapidPublic: "BL1yzSD0uxSOg8TLsFgWdVUVlUN7_Vnuxpj1qvRrLDecE7FP9WvR_L0C3t5Dmz1hxtCtxw-I5hOcMBqr-3xJEug",
        feedId: "1"
    };
    ...
    ```
1. [Установите постбэк УРЛ на Pushflow](tracker#2-%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C-%D0%BF%D0%BE%D1%81%D1%82%D0%B1%D1%8D%D0%BA-url-%D0%BD%D0%B0-pushflow) вида ```https://your-binom-domain.org/click.php?cnv_id={clickid}```

#### Если вы используете лендинги вне бинома
1. Передайте ```{clickid}``` на лендинг через URL параметр. Это можно сделать в настройках лендинга в биноме, добавив в урл параметр: ```&clickid={clickid}```. Наш скрипт автоматически обнаружит токен ```{clickid}``` в УРЛ страницы и передаст его на наш сервер вместе с пуш подпиской.
1. [Установите постбэк УРЛ на Pushflow](tracker#2-%D0%B7%D0%B0%D0%B4%D0%B0%D1%82%D1%8C-%D0%BF%D0%BE%D1%81%D1%82%D0%B1%D1%8D%D0%BA-url-%D0%BD%D0%B0-pushflow) вида ```https://your-binom-domain.org/click.php?cnv_id={clickid}```


### Оповещение о подписке через эвент бинома
Если вы собираете подписки в кампаниях, не созданных исключительно для сбора подписок, то передача информации через подписку, ухудшит восприятие конверсий в этой кампании. В таком случае, лучше использовать [событие Binom](https://docs.binom.org/events.php).
1. Создайте [событие Binom](https://docs.binom.org/events.php) для пуш подписок.
1. Измените наш скрипт запроса пуш подписки. Во время инициализации нашего скрипта, необходимо добавить callback функцию, которая будет передавать эвент о том, что произошла удачная пуш подписка. Это будет выглядить так:
    ```
    ...
    var pushflowSettings = {
        onSuccessCallback: function() {
            var o = document.createElement("img");
            o.src='http://your-tracker-domain.net/click.php?event1=1';
        },
        vapidPublic: "BL1yzSD0uxSOg8TLsFgWdVUVlUN7_Vnuxpj1qvRrLDecE7FP9WvR_L0C3t5Dmz1hxtCtxw-I5hOcMBqr-3xJEug",
        feedId: "1"
    };
    ...
    ```
    Замените номер события, на номер который вы создали ранее.