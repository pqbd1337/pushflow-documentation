(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{117:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var i=n(2),a=n(6),r=(n(0),n(149)),o={title:"Setting up the tracker, postback, macros"},c={id:"en/tracker",isDocsHomePage:!1,title:"Setting up the tracker, postback, macros",description:"Postback when collecting push subscriptions",source:"@site/docs/en/tracker.md",permalink:"/docs/en/tracker",sidebar:"en",previous:{title:"Pricing table",permalink:"/docs/en/pricing"},next:{title:"Integration with Binom",permalink:"/docs/en/binom"}},l=[{value:"Postback when collecting push subscriptions",id:"postback-when-collecting-push-subscriptions",children:[{value:"How it works:",id:"how-it-works",children:[]}]},{value:"Macros when sending notifications",id:"macros-when-sending-notifications",children:[]}],s={rightToc:l};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(i.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"postback-when-collecting-push-subscriptions"},"Postback when collecting push subscriptions"),Object(r.b)("p",null,"When collecting push subscriptions, you can pass the ",Object(r.b)("inlineCode",{parentName:"p"},"clickid")," from your tracker to Pushflow, and after a successful subscription, get it back via a callback from Pushflow. You can also send additional tokens(",Object(r.b)("inlineCode",{parentName:"p"},"t1, t2, t3, t4, t5")," ) that you can get back when you send push notifications to users later."),Object(r.b)("h3",{id:"how-it-works"},"How it works:"),Object(r.b)("h4",{id:"1-pass-tokens-with-a-push-subscription"},"1. Pass tokens with a push subscription"),Object(r.b)("p",null,"To pass tokens, they must be in the url of the page where the push subscription is taking place. Our push subscription script will automatically get available tokens from the URL (",Object(r.b)("inlineCode",{parentName:"p"},"clickid, t1, t2, t3, t4, t5"),") and pass them with a successful subscription to our database. For example, if you want to pass ",Object(r.b)("inlineCode",{parentName:"p"},"clickid, t1, t2")," the URL might look like this: ",Object(r.b)("inlineCode",{parentName:"p"},"https://script-domain.com/index.php?clickid=8280816987&t1=propellers&t2=dating")),Object(r.b)("h4",{id:"2-set-up-a-postback-url-on-pushflow"},"2. Set up a postback URL on Pushflow"),Object(r.b)("p",null,"To get tokens back, add a postback URL on Pushflow:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You can add a callback on the feed page and it will only apply to that feed."),Object(r.b)("li",{parentName:"ul"},"Or you can add a global postback in ",Object(r.b)("a",Object(i.a)({parentName:"li"},{href:"https://pushflow.net/app/options"}),"Pushflow profile settings"),". It will apply to all feeds that don't have a postback URL.")),Object(r.b)("h2",{id:"macros-when-sending-notifications"},"Macros when sending notifications"),Object(r.b)("p",null,"During creative creation, you can add additional macros to a link that pass values that you passed along with the push subscription and a few macros from the Pushflow:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{externalId}")," \u2014 Click ID in Pushflow"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{\u0441ampaignId}")," \u2014 Campaign ID in Pushflow"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{creativeId}")," \u2014 Creative ID in Pushflow"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{feedId}")," \u2014 Feed ID in Pushflow"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{subscriptionId}")," \u2014 Subscription ID in Pushflow"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{days}")," \u2014 Number of days since the subscription occurred"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{clickid}")," \u2014 clickid token received from the subscription page"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{t1}")," \u2014 t1 token received from the subscription page"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{t2}")," \u2014 t2 token received from the subscription page"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{t3}")," \u2014 t3 token received from the subscription page"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{t4}")," \u2014 t4 token received from the subscription page"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"{t5}")," \u2014 t5 token received from the subscription page")))}p.isMDXComponent=!0},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var i=n(0),a=n.n(i);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),p=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=p(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(n),d=i,h=b["".concat(o,".").concat(d)]||b[d]||u[d]||r;return n?a.a.createElement(h,c(c({ref:t},s),{},{components:n})):a.a.createElement(h,c({ref:t},s))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:i,o[1]=c;for(var s=2;s<r;s++)o[s]=n[s];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);