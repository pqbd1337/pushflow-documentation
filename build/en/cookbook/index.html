<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="alternate" type="application/rss+xml" href="/docs/blog/ru/rss.xml" title="Pushflow документация Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/ru/atom.xml" title="Pushflow документация Blog Atom Feed"><title data-react-helmet="true">Useful tips and scripts | Pushflow документация</title><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="fb:app_id" content="726250024839333"><meta data-react-helmet="true" property="og:image" content="https://pushflow.net/image/png/og-pushflow.png"><meta data-react-helmet="true" property="twitter:image" content="https://pushflow.net/image/png/og-pushflow.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Pushflow документация"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Useful tips and scripts | Pushflow документация"><meta data-react-helmet="true" name="description" content="Requested push subscription before moving to an offer with prelanding"><meta data-react-helmet="true" property="og:description" content="Requested push subscription before moving to an offer with prelanding"><meta data-react-helmet="true" property="og:url" content="https://pushflow.net/docs/en/cookbook"><meta data-react-helmet="true" property="og:locale" content="en_US"><link data-react-helmet="true" rel="shortcut icon" href="https://pushflow.net/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://pushflow.net/docs/en/cookbook"><link rel="stylesheet" href="/docs/styles.fa2eda55.css">
<link rel="preload" href="/docs/styles.2da38a4e.js" as="script">
<link rel="preload" href="/docs/runtime~main.704030f5.js" as="script">
<link rel="preload" href="/docs/main.58f23115.js" as="script">
<link rel="preload" href="/docs/1.49030045.js" as="script">
<link rel="preload" href="/docs/2.d9849aee.js" as="script">
<link rel="preload" href="/docs/01a85c17.90b5a59d.js" as="script">
<link rel="preload" href="/docs/1be78505.0b9e1500.js" as="script">
<link rel="preload" href="/docs/50.f669f360.js" as="script">
<link rel="preload" href="/docs/47.73f25643.js" as="script">
<link rel="preload" href="/docs/20ac7829.0bc30268.js" as="script">
<link rel="preload" href="/docs/17896441.f2fc41ac.js" as="script">
<link rel="preload" href="/docs/57f57da5.66bcd7ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="Pushflow Logo"><strong class="navbar__title">Docs</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">In English</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/">Documentation</a></li><li><a class="dropdown__link" href="/docs/blog/en">Blog</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">По-русски</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/ru/quickstart">Документация</a></li><li><a class="dropdown__link" href="/docs/blog/ru">Блог</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/support">Contact support</a><a href="https://pushflow.net/app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Back to Pushflow app</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="Pushflow Logo"><strong class="navbar__title">Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">In English</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog/en">Blog</a></li></ul></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">По-русски</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ru/quickstart">Документация</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog/ru">Блог</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/support">Contact support</a></li><li class="menu__list-item"><a href="https://pushflow.net/app/" target="_blank" rel="noopener noreferrer" class="menu__link">Back to Pushflow app</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Quick start</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Collecting subscriptions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/feed">Creating and setting up the feed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/feed_collect">Collecting feed subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/sdk">Configuring JS script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/feed_carosule">Setting up a carousel of redirections</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/en/cookbook">Useful tips and scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/pricing">Pricing table</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/tracker">Setting up the tracker, postbacks, macros</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">Useful tips and scripts</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="requested-push-subscription-before-moving-to-an-offer-with-prelanding"></a>Requested push subscription before moving to an offer with prelanding<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requested-push-subscription-before-moving-to-an-offer-with-prelanding" title="Direct link to heading">#</a></h2><p><strong><em>Scenario:</em></strong>
The user has reached the end of your landing page, clicks on the final button to go to the offer, and a push subscription request window appears. Regardless of which option they choose, they are redirected to your offer.</p><p><strong><em>Implementation:</em></strong>
Create a Feed in Pushflow and in the &quot;redirect settings&quot; section, specify a link to your offer in each field. for example, if your tracker is Binom, then each field will contain a link like <code>&quot;</code><a href="http://trackdomain.com/click.php?lp=1%60%60">http://trackdomain.com/click.php?lp=1``</a>. Save and integrate the generated script <a href="/docs/en/feed_collect">according to the standard instructions</a>.</p><p>In <code>&lt;head&gt;&lt;/head&gt;</code> we add the following script:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function toOffer(e) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      e.preventDefault();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      PushflowSDK.askSubscription();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/script&gt;</span></div></div></div></div></div><p>Next, find the button where your link to the offer is located and add the onclick event to it:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;a href=&quot;http://trackdomain.com/click.php?lp=1&quot; onclick=&quot;toOffer(event)&quot;&gt;Link&lt;/a&gt;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="open-the-offer-in-a-new-tab-and-make-a-push-subscription-request-in-the-old-one"></a>Open the offer in a new tab, and make a push subscription request in the old one<a aria-hidden="true" tabindex="-1" class="hash-link" href="#open-the-offer-in-a-new-tab-and-make-a-push-subscription-request-in-the-old-one" title="Direct link to heading">#</a></h2><p>Integrating the Pushflow script <a href="/docs/en/feed_collect">according to the standard instructions</a>. Next in <code>&lt;head&gt;&lt;/head&gt;</code> adding the following script:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Change it to your offer link</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var offerUrl = &quot;https://trackdomain.com/click.php?lp=1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var isLeftPage = false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function toOffer(e) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      e.preventDefault();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      var win = window.open(offerUrl, &#x27;_blank&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (win) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          win.focus();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          location.href = offerUrl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      isLeftPage = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    window.onfocus = function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (isLeftPage) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        setTimeout(PushflowSDK.askSubscription(), 500);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/script&gt;</span></div></div></div></div></div><p>In the script, change <code>https://trackdomain.com/click.php?lp=1</code> to your link to the offer.</p><p>It may also be that the user will forget about the old tab for a long time and then the script may not work. We can set the user a cookie for 31 days. Then the final script will look like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Change it to your offer link</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var offerUrl = &quot;https://trackdomain.com/click.php?lp=1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var isLeftPage = false;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function toOffer(e) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      e.preventDefault();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      var win = window.open(offerUrl, &#x27;_blank&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (win) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          win.focus();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          location.href = offerUrl;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      isLeftPage = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      document.cookie = &quot;isLeftPage=1; max-age=&quot; + 60 * 60 * 24 * 31 + &quot; ; path=/&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    window.onfocus = function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (getCookie(&#x27;isLeftPage&#x27;) == 1 || isLeftPage) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        setTimeout(PushflowSDK.askSubscription(), 500);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function getCookie(name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var matches = document.cookie.match(new RegExp(&quot;(?:^|; )&quot; + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, &#x27;\\$1&#x27;) + &quot;=([^;]*)&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return matches ? decodeURIComponent(matches[1]) : undefined;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/script&gt;</span></div></div></div></div></div><p>The other option to request a subscription is to download a ready-made HTML template from the Feed page (a template with a captcha will do well), place it on your web server and redirect your user to this page after he opened the old tab. To do this, replace part of the script above <code>window.onfocus = function() {}</code> with the next one:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  window.onfocus = function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (isLeftPage) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      location.href = &quot;https://link.com/index.php&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span></div></div></div></div></div><p>Where <code>https://link.com/index.php</code> should be replaced with a link to the page where you collect subscriptions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="subscribe-non-unique-users"></a>Subscribe non-unique users<a aria-hidden="true" tabindex="-1" class="hash-link" href="#subscribe-non-unique-users" title="Direct link to heading">#</a></h2><p><strong><em>Scenario:</em></strong>
If a user has already visited your site, they are immediately prompted to subscribe.</p><p><strong><em>Implementation:</em></strong>
Create Feed in Pushflow. If you want to leave all fields in the redirection section empty after the action with the subscription window. Integrate the Pushflow script <a href="/docs/en/feed_collect">following the usual instructions</a>.</p><p>If you want to ask for a subscription from users who have left your publishing to the offshore and not just visited the page, add the following script to ``<code>&lt;head&gt;&lt;/head&gt;</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function setPushflowCookie() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    document.cookie = &quot;isLeftPage=1; max-age=&quot; + 60 * 60 * 24 * 31 + &quot; ; path=/&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  window.addEventListener(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;load&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (getCookie(&#x27;isLeftPage&#x27;) == 1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        setTimeout(PushflowSDK.askSubscription(), 1500);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getCookie(name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var matches = document.cookie.match(new RegExp(&quot;(?:^|; )&quot; + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, &#x27;\\$1&#x27;) + &quot;=([^;]*)&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return matches ? decodeURIComponent(matches[1]) : undefined;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span></div></div></div></div></div><p>Find the button, where your link to the operator or tracker is and add it to the onclick event:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;a href=&quot;http://trackdomain.com/click.php?lp=1&quot; onclick=&quot;setPushflowCookie()&quot;&gt;Link&lt;/a&gt;</span></div></div></div></div></div><p>If you want to ask for a subscription from all users who have logged in to your site and spent more than 3 seconds there, the script will look like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  window.addEventListener(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;load&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      setTimeout(setNonUniqCookeie(), 3000);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      if (getCookie(&#x27;isNonUniq&#x27;) == 1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        setTimeout(PushflowSDK.askSubscription(), 1500);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function setNonUniqCookeie() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    document.cookie = &quot;isNonUniq=1; max-age=&quot; + 60 * 60 * 24 * 31 + &quot; ; path=/&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getCookie(name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var matches = document.cookie.match(new RegExp(&quot;(?:^|; )&quot; + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, &#x27;\\$1&#x27;) + &quot;=([^;]*)&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return matches ? decodeURIComponent(matches[1]) : undefined;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span></div></div></div></div></div><p>In this case, no additional scripts should be added to the button to go to the offshore.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/en/feed_carosule"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Setting up a carousel of redirections</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/en/pricing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pricing table »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requested-push-subscription-before-moving-to-an-offer-with-prelanding" class="table-of-contents__link">Requested push subscription before moving to an offer with prelanding</a></li><li><a href="#open-the-offer-in-a-new-tab-and-make-a-push-subscription-request-in-the-old-one" class="table-of-contents__link">Open the offer in a new tab, and make a push subscription request in the old one</a></li><li><a href="#subscribe-non-unique-users" class="table-of-contents__link">Subscribe non-unique users</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2021 Pushflow.</div></div></div></footer></div>
<script src="/docs/styles.2da38a4e.js"></script>
<script src="/docs/runtime~main.704030f5.js"></script>
<script src="/docs/main.58f23115.js"></script>
<script src="/docs/1.49030045.js"></script>
<script src="/docs/2.d9849aee.js"></script>
<script src="/docs/01a85c17.90b5a59d.js"></script>
<script src="/docs/1be78505.0b9e1500.js"></script>
<script src="/docs/50.f669f360.js"></script>
<script src="/docs/47.73f25643.js"></script>
<script src="/docs/20ac7829.0bc30268.js"></script>
<script src="/docs/17896441.f2fc41ac.js"></script>
<script src="/docs/57f57da5.66bcd7ad.js"></script>
</body>
</html>